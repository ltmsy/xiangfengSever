# æœºå™¨äººç›¸å…³æ¥å£æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [åŸºç¡€ä¿¡æ¯](#åŸºç¡€ä¿¡æ¯)
- [è®¤è¯è¯´æ˜](#è®¤è¯è¯´æ˜)
- [æ¥å£åˆ—è¡¨](#æ¥å£åˆ—è¡¨)
  - [1. æœºå™¨äººåŒæ­¥](#1-æœºå™¨äººåŒæ­¥)
  - [2. æœºå™¨äººè¡Œå†…æœç´¢](#2-æœºå™¨äººè¡Œå†…æœç´¢)
  - [3. è·å–æœºå™¨äººäº‹ä»¶](#3-è·å–æœºå™¨äººäº‹ä»¶)
  - [4. æœºå™¨äººå‘é€æ¶ˆæ¯](#4-æœºå™¨äººå‘é€æ¶ˆæ¯)
  - [5. æœºå™¨äººè¾“å…¥çŠ¶æ€](#5-æœºå™¨äººè¾“å…¥çŠ¶æ€)
  - [6. æµå¼æ¶ˆæ¯å¼€å§‹](#6-æµå¼æ¶ˆæ¯å¼€å§‹)
  - [7. æµå¼æ¶ˆæ¯ç»“æŸ](#7-æµå¼æ¶ˆæ¯ç»“æŸ)
  - [8. äº‹ä»¶ç¡®è®¤](#8-äº‹ä»¶ç¡®è®¤)
  - [9. å“åº”è¡Œå†…æœç´¢](#9-å“åº”è¡Œå†…æœç´¢)
- [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
- [é”™è¯¯ç è¯´æ˜](#é”™è¯¯ç è¯´æ˜)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
- [æ›´æ–°æ—¥å¿—](#æ›´æ–°æ—¥å¿—)

---

## æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°äº†TangSengDaoDaoç³»ç»Ÿä¸­æ‰€æœ‰ä¸æœºå™¨äººç›¸å…³çš„APIæ¥å£ã€‚æœºå™¨äººç³»ç»Ÿæ”¯æŒè‡ªåŠ¨å›å¤ã€è¡Œå†…æœç´¢ã€æ¶ˆæ¯å‘é€ç­‰åŠŸèƒ½ï¼Œä¸ºIMç³»ç»Ÿæä¾›æ™ºèƒ½åŒ–çš„æœåŠ¡æ”¯æŒã€‚

**æ³¨æ„**ï¼šæœ¬æ–‡æ¡£ä¸¥æ ¼æŒ‰ç…§ä»£ç å®ç°æ•´ç†ï¼Œç¡®ä¿æ¥å£ä¿¡æ¯çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ã€‚

---

## åŸºç¡€ä¿¡æ¯

- **åŸºç¡€URL**: `http://localhost:8090`
- **APIç‰ˆæœ¬**: `v1`
- **è®¤è¯æ–¹å¼**: 
  - ç”¨æˆ·ç«¯æ¥å£ï¼šTokenè®¤è¯ï¼ˆåœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ  `token: {token}`ï¼‰
  - æœºå™¨äººç«¯æ¥å£ï¼šAppKeyè®¤è¯ï¼ˆåœ¨URLè·¯å¾„ä¸­ä¼ é€’ï¼‰
- **æ•°æ®æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8

---

## è®¤è¯è¯´æ˜

### ç”¨æˆ·ç«¯è®¤è¯
åœ¨è°ƒç”¨ç”¨æˆ·ç«¯æ¥å£å‰ï¼Œéœ€è¦å…ˆç™»å½•è·å–tokenï¼š

```bash
curl -X POST http://localhost:8090/v1/user/login \
  -H "Content-Type: application/json" \
  -d '{"username":"your_username","password":"your_password"}'
```

### æœºå™¨äººç«¯è®¤è¯
æœºå™¨äººç«¯æ¥å£ä½¿ç”¨AppKeyè®¤è¯ï¼Œåœ¨URLè·¯å¾„ä¸­ä¼ é€’ï¼š
```
/v1/robots/{robot_id}/{app_key}/...
```

---

## æ¥å£åˆ—è¡¨

### 1. æœºå™¨äººåŒæ­¥

**æ¥å£åœ°å€**: `POST /v1/robot/sync`

**åŠŸèƒ½æè¿°**: åŒæ­¥æœºå™¨äººèœå•å’Œé…ç½®ä¿¡æ¯ï¼Œè·å–æœºå™¨äººçš„æœ€æ–°çŠ¶æ€å’Œå‘½ä»¤èœå•ã€‚

**æƒé™è¦æ±‚**: éœ€è¦ç”¨æˆ·ç™»å½•

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `robot_id` | string | å¦ | æœºå™¨äººIDï¼ˆå…¼å®¹è€ç‰ˆæœ¬ï¼‰ | `"u_10000"` |
| `version` | int64 | æ˜¯ | å½“å‰ç‰ˆæœ¬å·ï¼Œç”¨äºå¢é‡åŒæ­¥ | `0` |
| `username` | string | å¦ | æœºå™¨äººç”¨æˆ·å | `"system"` |

**è¯·æ±‚ç¤ºä¾‹**:

```bash
curl -X POST http://localhost:8090/v1/robot/sync \
  -H "Content-Type: application/json" \
  -H "token: your_token_here" \
  -d '[
    {
      "robot_id": "u_10000",
      "version": 0,
      "username": "system"
    }
  ]'
```

**å“åº”ç¤ºä¾‹**:

```json
[
  {
    "robot_id": "u_10000",
    "username": "system",
    "inline_on": 1,
    "placeholder": "è¯·è¾“å…¥æœç´¢å…³é”®è¯",
    "status": 1,
    "version": 1755423150,
    "created_at": "2025-01-17 10:00:00",
    "updated_at": "2025-01-17 10:00:00",
    "menus": [
      {
        "cmd": "/åŸºæœ¬ä¿¡æ¯",
        "remark": "å”åƒ§å¨å¨åŸºæœ¬ä¿¡æ¯",
        "type": "none",
        "robot_id": "u_10000",
        "created_at": "2025-01-17 10:00:00",
        "updated_at": "2025-01-17 10:00:00"
      }
    ]
  }
]
```

**å“åº”å­—æ®µè¯´æ˜**:
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `robot_id` | string | æœºå™¨äººå”¯ä¸€ID |
| `username` | string | æœºå™¨äººç”¨æˆ·å |
| `inline_on` | int | æ˜¯å¦å¼€å¯è¡Œå†…æœç´¢ï¼š1=å¼€å¯ï¼Œ0=å…³é—­ |
| `placeholder` | string | è¾“å…¥æ¡†å ä½ç¬¦ |
| `status` | int | æœºå™¨äººçŠ¶æ€ï¼š1=å¯ç”¨ï¼Œ0=ç¦ç”¨ |
| `version` | int64 | ç‰ˆæœ¬å· |
| `created_at` | string | åˆ›å»ºæ—¶é—´ |
| `updated_at` | string | æ›´æ–°æ—¶é—´ |
| `menus` | array | æœºå™¨äººå‘½ä»¤èœå•åˆ—è¡¨ |

---

### 2. æœºå™¨äººè¡Œå†…æœç´¢

**æ¥å£åœ°å€**: `POST /v1/robot/inline_query`

**åŠŸèƒ½æè¿°**: ä½¿ç”¨æœºå™¨äººçš„è¡Œå†…æœç´¢åŠŸèƒ½ï¼Œè·å–æœºå™¨äººæä¾›çš„æœç´¢ç»“æœã€‚

**æƒé™è¦æ±‚**: éœ€è¦ç”¨æˆ·ç™»å½•

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `offset` | string | å¦ | æœç´¢åç§»ä½ç½®ï¼Œç¬¬ä¸€æ¬¡ä¸ºç©º | `""` |
| `query` | string | æ˜¯ | æœç´¢å…³é”®å­— | `"å¤©æ°”"` |
| `username` | string | æ˜¯ | æœºå™¨äººåç§° | `"weather_bot"` |
| `channel_id` | string | æ˜¯ | é¢‘é“ID | `"4cd7c2783f7b46178f994f7d12729fff"` |
| `channel_type` | uint8 | æ˜¯ | é¢‘é“ç±»å‹ï¼š1=ç§èŠï¼Œ2=ç¾¤èŠ | `1` |

**è¯·æ±‚ç¤ºä¾‹**:

```bash
curl -X POST http://localhost:8090/v1/robot/inline_query \
  -H "Content-Type: application/json" \
  -H "token: your_token_here" \
  -d '{
    "offset": "",
    "query": "å¤©æ°”",
    "username": "weather_bot",
    "channel_id": "4cd7c2783f7b46178f994f7d12729fff",
    "channel_type": 1
  }'
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "inline_query_sid": "query_123456",
  "type": "article",
  "next_offset": "offset_789",
  "results": [
    {
      "type": "article",
      "id": "weather_001",
      "title": "ä»Šæ—¥å¤©æ°”",
      "description": "æ™´å¤©ï¼Œæ¸©åº¦25Â°C",
      "thumb_url": "http://localhost:9000/weather/icon.png",
      "input_message_content": {
        "message_text": "ä»Šæ—¥å¤©æ°”ï¼šæ™´å¤©ï¼Œæ¸©åº¦25Â°C"
      }
    }
  ]
}
```

---

### 3. è·å–æœºå™¨äººäº‹ä»¶

**æ¥å£åœ°å€**: `GET /v1/robots/{robot_id}/{app_key}/events`

**åŠŸèƒ½æè¿°**: è·å–æœºå™¨äººçš„äº‹ä»¶åˆ—è¡¨ï¼ŒåŒ…æ‹¬æ¶ˆæ¯äº‹ä»¶å’Œè¡Œå†…æœç´¢äº‹ä»¶ã€‚

**æƒé™è¦æ±‚**: éœ€è¦æœºå™¨äººèº«ä»½éªŒè¯ï¼ˆAppKeyï¼‰

**è·¯å¾„å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `robot_id` | string | æ˜¯ | æœºå™¨äººID | `"u_10000"` |
| `app_key` | string | æ˜¯ | åº”ç”¨å¯†é’¥ | `"app_key_123"` |

**æŸ¥è¯¢å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `event_id` | string | æ˜¯ | èµ·å§‹äº‹ä»¶ID | `"0"` |
| `limit` | string | å¦ | è¿”å›æ•°é‡é™åˆ¶ï¼Œé»˜è®¤20ï¼Œæœ€å¤§100 | `"20"` |

**è¯·æ±‚ç¤ºä¾‹**:

```bash
curl -X GET "http://localhost:8090/v1/robots/u_10000/app_key_123/events?event_id=0&limit=20" \
  -H "Content-Type: application/json"
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "status": 1,
  "results": [
    {
      "event_id": 1755423150,
      "message": {
        "message_id": 1957012653087920128,
        "message_seq": 14,
        "from_uid": "user_123",
        "channel_id": "channel_456",
        "channel_type": 1,
        "timestamp": 1755423150,
        "payload": {
          "type": 1,
          "content": "ä½ å¥½ï¼Œæœºå™¨äºº"
        }
      },
      "inline_query": null
    }
  ]
}
```

**å“åº”å­—æ®µè¯´æ˜**:
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `status` | int | å“åº”çŠ¶æ€ï¼š1=æˆåŠŸï¼Œ0=å¤±è´¥ |
| `results` | array | äº‹ä»¶ç»“æœåˆ—è¡¨ |
| `event_id` | int64 | äº‹ä»¶ID |
| `message` | object | æ¶ˆæ¯å¯¹è±¡ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ |
| `inline_query` | object | è¡Œå†…æœç´¢å¯¹è±¡ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ |

---

### 4. æœºå™¨äººå‘é€æ¶ˆæ¯

**æ¥å£åœ°å€**: `POST /v1/robots/{robot_id}/{app_key}/sendMessage`

**åŠŸèƒ½æè¿°**: æœºå™¨äººå‘é€æ¶ˆæ¯åˆ°æŒ‡å®šé¢‘é“ã€‚

**æƒé™è¦æ±‚**: éœ€è¦æœºå™¨äººèº«ä»½éªŒè¯ï¼ˆAppKeyï¼‰

**è·¯å¾„å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `robot_id` | string | æ˜¯ | æœºå™¨äººID | `"u_10000"` |
| `app_key` | string | æ˜¯ | åº”ç”¨å¯†é’¥ | `"app_key_123"` |

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `setting` | uint8 | å¦ | æ¶ˆæ¯è®¾ç½® | `0` |
| `channel_id` | string | æ˜¯ | é¢‘é“ID | `"channel_456"` |
| `channel_type` | uint8 | æ˜¯ | é¢‘é“ç±»å‹ï¼š1=ç§èŠï¼Œ2=ç¾¤èŠ | `1` |
| `stream_no` | string | å¦ | æµå¼æ¶ˆæ¯ç¼–å· | `"stream_789"` |
| `entities` | array | å¦ | æ¶ˆæ¯å®ä½“æ•°ç»„ | `[]` |
| `payload` | object | æ˜¯ | æ¶ˆæ¯å†…å®¹ | è§ä¸‹æ–¹ç¤ºä¾‹ |

**payloadå­—æ®µè¯´æ˜**:
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `type` | int | æ˜¯ | æ¶ˆæ¯ç±»å‹ï¼š1=æ–‡æœ¬ | `1` |
| `content` | string | æ˜¯ | æ¶ˆæ¯å†…å®¹ | `"ä½ å¥½ï¼Œæˆ‘æ˜¯æœºå™¨äººï¼"` |

**è¯·æ±‚ç¤ºä¾‹**:

```bash
curl -X POST http://localhost:8090/v1/robots/u_10000/app_key_123/sendMessage \
  -H "Content-Type: application/json" \
  -d '{
    "setting": 0,
    "channel_id": "channel_456",
    "channel_type": 1,
    "stream_no": "stream_789",
    "entities": [],
    "payload": {
      "type": 1,
      "content": "ä½ å¥½ï¼Œæˆ‘æ˜¯æœºå™¨äººï¼"
    }
  }'
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "message_id": 1957012653087920128,
  "message_seq": 15,
  "timestamp": 1755423150
}
```

---

### 5. æœºå™¨äººè¾“å…¥çŠ¶æ€

**æ¥å£åœ°å€**: `POST /v1/robots/{robot_id}/{app_key}/typing`

**åŠŸèƒ½æè¿°**: æ˜¾ç¤ºæœºå™¨äººçš„"æ­£åœ¨è¾“å…¥"çŠ¶æ€ã€‚

**æƒé™è¦æ±‚**: éœ€è¦æœºå™¨äººèº«ä»½éªŒè¯ï¼ˆAppKeyï¼‰

**è·¯å¾„å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `robot_id` | string | æ˜¯ | æœºå™¨äººID | `"u_10000"` |
| `app_key` | string | æ˜¯ | åº”ç”¨å¯†é’¥ | `"app_key_123"` |

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `channel_id` | string | æ˜¯ | é¢‘é“ID | `"channel_456"` |
| `channel_type` | uint8 | æ˜¯ | é¢‘é“ç±»å‹ï¼š1=ç§èŠï¼Œ2=ç¾¤èŠ | `1` |

**è¯·æ±‚ç¤ºä¾‹**:

```bash
curl -X POST http://localhost:8090/v1/robots/u_10000/app_key_123/typing \
  -H "Content-Type: application/json" \
  -d '{
    "channel_id": "channel_456",
    "channel_type": 1
  }'
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "message": "success"
}
```

---

### 6. æµå¼æ¶ˆæ¯å¼€å§‹

**æ¥å£åœ°å€**: `POST /v1/robots/{robot_id}/{app_key}/stream/start`

**åŠŸèƒ½æè¿°**: å¼€å§‹æµå¼æ¶ˆæ¯ã€‚

**æƒé™è¦æ±‚**: éœ€è¦æœºå™¨äººèº«ä»½éªŒè¯ï¼ˆAppKeyï¼‰

**è·¯å¾„å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `robot_id` | string | æ˜¯ | æœºå™¨äººID | `"u_10000"` |
| `app_key` | string | æ˜¯ | åº”ç”¨å¯†é’¥ | `"app_key_123"` |

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `channel_id` | string | æ˜¯ | é¢‘é“ID | `"channel_456"` |
| `channel_type` | uint8 | æ˜¯ | é¢‘é“ç±»å‹ï¼š1=ç§èŠï¼Œ2=ç¾¤èŠ | `1` |

**è¯·æ±‚ç¤ºä¾‹**:

```bash
curl -X POST http://localhost:8090/v1/robots/u_10000/app_key_123/stream/start \
  -H "Content-Type: application/json" \
  -d '{
    "channel_id": "channel_456",
    "channel_type": 1
  }'
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "stream_no": "stream_123456"
}
```

---

### 7. æµå¼æ¶ˆæ¯ç»“æŸ

**æ¥å£åœ°å€**: `POST /v1/robots/{robot_id}/{app_key}/stream/end`

**åŠŸèƒ½æè¿°**: ç»“æŸæµå¼æ¶ˆæ¯ã€‚

**æƒé™è¦æ±‚**: éœ€è¦æœºå™¨äººèº«ä»½éªŒè¯ï¼ˆAppKeyï¼‰

**è·¯å¾„å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `robot_id` | string | æ˜¯ | æœºå™¨äººID | `"u_10000"` |
| `app_key` | string | æ˜¯ | åº”ç”¨å¯†é’¥ | `"app_key_123"` |

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `stream_no` | string | æ˜¯ | æµå¼æ¶ˆæ¯ç¼–å· | `"stream_123456"` |

**è¯·æ±‚ç¤ºä¾‹**:

```bash
curl -X POST http://localhost:8090/v1/robots/u_10000/app_key_123/stream/end \
  -H "Content-Type: application/json" \
  -d '{
    "stream_no": "stream_123456"
  }'
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "message": "success"
}
```

---

### 8. äº‹ä»¶ç¡®è®¤

**æ¥å£åœ°å€**: `POST /v1/robots/{robot_id}/{app_key}/events/{event_id}/ack`

**åŠŸèƒ½æè¿°**: ç¡®è®¤å·²å¤„ç†çš„äº‹ä»¶ï¼Œç³»ç»Ÿä¼šæ¸…ç†è¯¥äº‹ä»¶ã€‚

**æƒé™è¦æ±‚**: éœ€è¦æœºå™¨äººèº«ä»½éªŒè¯ï¼ˆAppKeyï¼‰

**è·¯å¾„å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `robot_id` | string | æ˜¯ | æœºå™¨äººID | `"u_10000"` |
| `app_key` | string | æ˜¯ | åº”ç”¨å¯†é’¥ | `"app_key_123"` |
| `event_id` | string | æ˜¯ | äº‹ä»¶ID | `"1755423150"` |

**è¯·æ±‚ç¤ºä¾‹**:

```bash
curl -X POST http://localhost:8090/v1/robots/u_10000/app_key_123/events/1755423150/ack \
  -H "Content-Type: application/json"
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "message": "success"
}
```

---

### 9. å“åº”è¡Œå†…æœç´¢

**æ¥å£åœ°å€**: `POST /v1/robots/{robot_id}/{app_key}/answerInlineQuery`

**åŠŸèƒ½æè¿°**: å“åº”è¡Œå†…æœç´¢æŸ¥è¯¢ï¼Œè¿”å›æœç´¢ç»“æœã€‚

**æƒé™è¦æ±‚**: éœ€è¦æœºå™¨äººèº«ä»½éªŒè¯ï¼ˆAppKeyï¼‰

**è·¯å¾„å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `robot_id` | string | æ˜¯ | æœºå™¨äººID | `"u_10000"` |
| `app_key` | string | æ˜¯ | åº”ç”¨å¯†é’¥ | `"app_key_123"` |

**è¯·æ±‚å‚æ•°**:

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|------|------|------|------|--------|
| `inline_query_sid` | string | æ˜¯ | è¡Œå†…æœç´¢ID | `"query_123456"` |
| `type` | string | æ˜¯ | ç»“æœç±»å‹ | `"gif"` |
| `id` | string | æ˜¯ | ç»“æœID | `"result_001"` |
| `results` | array | å¦ | ç»“æœæ•°ç»„ | `[]` |
| `next_offset` | string | å¦ | ä¸‹æ¬¡æŸ¥è¯¢åç§»é‡ | `"offset_789"` |

**è¯·æ±‚ç¤ºä¾‹**:

```bash
curl -X POST http://localhost:8090/v1/robots/u_10000/app_key_123/answerInlineQuery \
  -H "Content-Type: application/json" \
  -d '{
    "inline_query_sid": "query_123456",
    "type": "gif",
    "id": "result_001",
    "results": [],
    "next_offset": "offset_789"
  }'
```

**å“åº”ç¤ºä¾‹**:

```json
{
  "code": 0,
  "message": "success"
}
```

---

## æ•°æ®æ¨¡å‹

### æœºå™¨äººæ¨¡å‹ (robot)

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `AppID` | string | åº”ç”¨ID |
| `RobotID` | string | æœºå™¨äººå”¯ä¸€ID |
| `Username` | string | æœºå™¨äººç”¨æˆ·å |
| `InlineOn` | int | æ˜¯å¦å¼€å¯è¡Œå†…æœç´¢ï¼š1=å¼€å¯ï¼Œ0=å…³é—­ |
| `Placeholder` | string | è¾“å…¥æ¡†å ä½ç¬¦ |
| `Token` | string | æœºå™¨äººä»¤ç‰Œ |
| `Version` | int64 | ç‰ˆæœ¬å· |
| `Status` | int | çŠ¶æ€ï¼š1=å¯ç”¨ï¼Œ0=ç¦ç”¨ |

### èœå•æ¨¡å‹ (menu)

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `RobotID` | string | æœºå™¨äººID |
| `CMD` | string | å‘½ä»¤ |
| `Remark` | string | å‘½ä»¤è¯´æ˜ |
| `Type` | string | å‘½ä»¤ç±»å‹ |

### è¡Œå†…æœç´¢æ¨¡å‹ (InlineQuery)

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `SID` | string | æœç´¢ID |
| `ChannelID` | string | é¢‘é“ID |
| `ChannelType` | uint8 | é¢‘é“ç±»å‹ |
| `FromUID` | string | å‘é€è€…UID |
| `Query` | string | æŸ¥è¯¢å…³é”®å­— |
| `Offset` | string | åç§»é‡ |

### è¡Œå†…æœç´¢ç»“æœ (InlineQueryResult)

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `InlineQuerySID` | string | è¡Œå†…æœç´¢ID |
| `Type` | ResultType | ç»“æœç±»å‹ |
| `ID` | string | ç»“æœID |
| `Results` | array | ç»“æœæ•°ç»„ |
| `NextOffset` | string | ä¸‹æ¬¡æŸ¥è¯¢åç§»é‡ |

---

## é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | è¯´æ˜ | è§£å†³æ–¹æ¡ˆ |
|--------|------|----------|
| `401` | æœªæˆæƒ | æ£€æŸ¥AppKeyæ˜¯å¦æ­£ç¡® |
| `400` | å‚æ•°é”™è¯¯ | æ£€æŸ¥å¿…å¡«å‚æ•°æ˜¯å¦å®Œæ•´ |
| `500` | æœåŠ¡å™¨é”™è¯¯ | è”ç³»ç®¡ç†å‘˜æˆ–ç¨åé‡è¯• |

### å¸¸è§é”™è¯¯

#### **"æœºå™¨äººä¸å­˜åœ¨"**
- åŸå› ï¼šrobot_idæ— æ•ˆæˆ–æœºå™¨äººå·²è¢«åˆ é™¤
- è§£å†³ï¼šæ£€æŸ¥robot_idæ˜¯å¦æ­£ç¡®

#### **"appKeyä¸æ­£ç¡®"**
- åŸå› ï¼šAppKeyéªŒè¯å¤±è´¥
- è§£å†³ï¼šæ£€æŸ¥AppKeyæ˜¯å¦æ­£ç¡®

#### **"ä¸å…è®¸å‘é€æ¶ˆæ¯åˆ°æ­¤é¢‘é“"**
- åŸå› ï¼šæœºå™¨äººæ²¡æœ‰è¯¥é¢‘é“çš„å‘é€æƒé™
- è§£å†³ï¼šæ£€æŸ¥é¢‘é“æƒé™è®¾ç½®

---

## ä½¿ç”¨ç¤ºä¾‹

### å®Œæ•´çš„æœºå™¨äººå·¥ä½œæµç¨‹

#### **1. ç”¨æˆ·ç«¯è·å–æœºå™¨äººä¿¡æ¯**
```bash
# åŒæ­¥æœºå™¨äººèœå•
curl -X POST http://localhost:8090/v1/robot/sync \
  -H "Content-Type: application/json" \
  -H "token: user_token" \
  -d '[{"robot_id": "u_10000", "version": 0, "username": "system"}]'
```

#### **2. æœºå™¨äººç«¯å¤„ç†äº‹ä»¶**
```bash
# è·å–äº‹ä»¶åˆ—è¡¨
curl -X GET "http://localhost:8090/v1/robots/u_10000/app_key_123/events?event_id=0&limit=20"

# å‘é€å›å¤æ¶ˆæ¯
curl -X POST http://localhost:8090/v1/robots/u_10000/app_key_123/sendMessage \
  -H "Content-Type: application/json" \
  -d '{
    "channel_id": "channel_456",
    "channel_type": 1,
    "payload": {"type": 1, "content": "æ”¶åˆ°æ‚¨çš„æ¶ˆæ¯ï¼"}
  }'

# ç¡®è®¤äº‹ä»¶å·²å¤„ç†
curl -X POST http://localhost:8090/v1/robots/u_10000/app_key_123/events/1755423150/ack
```

#### **3. è¡Œå†…æœç´¢æµç¨‹**
```bash
# ç”¨æˆ·å‘èµ·è¡Œå†…æœç´¢
curl -X POST http://localhost:8090/v1/robot/inline_query \
  -H "Content-Type: application/json" \
  -H "token: user_token" \
  -d '{"query": "å¤©æ°”", "username": "weather_bot", "channel_id": "channel_456", "channel_type": 1}'

# æœºå™¨äººå“åº”æœç´¢ç»“æœ
curl -X POST http://localhost:8090/v1/robots/weather_bot/app_key_123/answerInlineQuery \
  -H "Content-Type: application/json" \
  -d '{"inline_query_sid": "query_123", "type": "article", "id": "weather_001"}'
```

---

## æ›´æ–°æ—¥å¿—

- **2025-08-17**: åˆ›å»ºæœºå™¨äººç›¸å…³æ¥å£æ–‡æ¡£
- **2025-08-17**: ä¸¥æ ¼æŒ‰ç…§ä»£ç å®ç°æ•´ç†æ¥å£ä¿¡æ¯
- **2025-08-17**: å®Œå–„å‚æ•°è¯´æ˜å’Œå“åº”ç¤ºä¾‹
- **2025-08-17**: æ·»åŠ æ•°æ®æ¨¡å‹å’Œé”™è¯¯ç è¯´æ˜

---

## ğŸ” [è¿”å›é¡¶éƒ¨](#æœºå™¨äººç›¸å…³æ¥å£æ–‡æ¡£)
